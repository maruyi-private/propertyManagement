{"version":3,"sources":["webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?401f","webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?ad8f","webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?269c","webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?70bb","uni-app:///components/image-drag-sort/index.vue","webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?1f5a","webpack:///D:/Fork_file/propertyManagement/components/image-drag-sort/index.vue?10ad"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+CtnB;AACA,SADA,EACA;AACA,UAFA,EAEA;AACA,UAHA,EAGA;AACA,WAJA,EAIA;AACA,YALA,EAKA;AACA,eANA,EAMA;AACA,gBAPA,EAOA;AACA,SARA,EAQA;AACA,SATA,EASA;AACA,YAVA,C,CAUA;gBACA;AACA,yBADA;AAEA,MAFA,kBAEA;AACA;AACA,sBADA;AAEA,mBAFA,EAEA;AACA,iBAHA,EAGA;AACA,UAJA;AAKA,UALA;AAMA,sBANA,CAMA;AANA;AAQA,GAXA;AAYA;AACA;AACA,iBADA;AAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,kBADA;AAEA,gBAFA,EAPA,EAZA;;;AAwBA,SAxBA,qBAwBA;AACA;AACA;AACA;AACA;AACA,GA7BA;AA8BA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA;AACA,2BAFA,CAEA;AACA,4BAHA,CAGA;AACA,2BAJA,CAIA;AACA,6BALA,CAKA;AACA;AACA,OAPA,EAOA,IAPA;AAQA,KAZA;AAaA,aAbA,uBAaA;AACA;AACA;AACA;AACA;AACA,2BAFA,CAEA;AACA,4BAHA,CAGA;AACA;AACA,OALA,EAKA,IALA;AAMA,KAtBA;AAuBA,eAvBA,yBAuBA;AACA,wCADA,CACA;AACA,0CAFA,CAEA;AACA,6BAHA,CAGA;AACA,6BAJA,CAIA;AACA,+CALA,CAKA;AACA,KA7BA;AA8BA,WA9BA,mBA8BA,CA9BA,EA8BA;AACA;AACA,qCADA;AAEA,wEAHA,CAGA;AACA;AACA;AACA;AACA;AACA,KAtCA;AAuCA,oBAvCA,4BAuCA,CAvCA,EAuCA;AACA;AACA,iBADA;AAEA;AACA,kCADA,EACA;AACA,iCAFA,EAEA;AACA,wBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArDA;AAsDA,UAtDA,kBAsDA,CAtDA,EAsDA;AACA;AACA;AACA,4CADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzEA;AA0EA,YA1EA,oBA0EA,CA1EA,EA0EA;AACA;AACA;AACA,qCADA;AAEA;AACA;AACA;AACA;AACA,gBADA,EACA;AACA,qCAFA,CAPA,CASA;AACA,gEAVA,CAUA;AACA;AACA;AACA;AACA;AACA,uCAfA,CAeA;AACA;AACA,4BADA;AAEA;AACA;AACA;AACA,KA/FA;AAgGA,YAhGA,oBAgGA,CAhGA,EAgGA;AACA;AACA,wCADA;AAEA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SARA;;AAUA,KA3GA;AA4GA,gBA5GA,wBA4GA,CA5GA,EA4GA;AACA;AACA,8BADA;AAEA,wBAFA;;AAIA,KAjHA;AAkHA,YAlHA,oBAkHA,CAlHA,EAkHA;AACA;AACA;AACA,KArHA;AAsHA,eAtHA,yBAsHA;AACA;AACA;AACA,0BADA;AAEA;AACA;AACA,SAJA;;AAMA,KA9HA;AA+HA,eA/HA,uBA+HA,KA/HA,EA+HA;AACA;AACA,iDADA;AAEA;AACA,oBADA;AAEA,4CAFA;AAGA,gCAHA;AAIA;AACA;AACA,wBADA;;AAGA;AACA,SATA;;AAWA,KA7IA;AA8IA,UA9IA,kBA8IA,CA9IA,EA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvJA,EA9BA;;AAuLA;AACA,SADA,mBACA;AACA;AACA;AACA;AACA;AACA,KANA,EAvLA,E;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAA64B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/image-drag-sort/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=24ffbcbd&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=24ffbcbd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24ffbcbd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/image-drag-sort/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=24ffbcbd&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"image-drag-sort\">\r\n\t\t<view class=\"inner\">\r\n\t\t\t<movable-area class=\"movable-area\">\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"item\"\r\n\t\t\t\t\tv-for=\"(item, index) in lists\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t@click=\"imageTap(index)\"\r\n\t\t\t\t\t@longpress=\"longtap\"\r\n\t\t\t\t\t@touchend=\"touchend\"\r\n\t\t\t\t\t@touchmove.stop=\"touchm\">\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"img\"\r\n\t\t\t\t\t\t:src=\"item\"\r\n\t\t\t\t\t\tmode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"img-upload-btn item\"\r\n\t\t\t\t\t@click=\"imageUpload\"\r\n\t\t\t\t\tv-if=\"lists.length < picNum && !active\">\r\n\t\t\t\t\t<view class=\"icon\">\r\n\t\t\t\t\t\t<image class=\"img\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDggNDgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0NDQ0NDQzt9Cgkuc3Qxe2ZpbGw6bm9uZTt9Cjwvc3R5bGU+Cjx0aXRsZT5SZWN0YW5nbGUtcGF0aDwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgo8cGF0aCBpZD0iU2hhcGUiIGNsYXNzPSJzdDAiIGQ9Ik0yNCwzLjNDMTIuNSwzLjMsMy4yLDEyLjYsMy4yLDI0UzEyLjUsNDQuNywyNCw0NC43UzQ0LjgsMzUuNCw0NC44LDI0UzM1LjUsMy4zLDI0LDMuM0wyNCwzLjN6CgkgTTM0LjUsMjYuMmgtOC4zdjguM2MwLDEuMi0xLDIuMi0yLjIsMi4yYy0xLjIsMC0yLjItMS0yLjItMi4ydi04LjNoLTguM2MtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yaDguM3YtOC4zCgljMC0xLjIsMS0yLjIsMi4yLTIuMmMxLjIsMCwyLjIsMSwyLjIsMi4ydjguM2g4LjNjMS4yLDAsMi4yLDEsMi4yLDIuMlMzNS43LDI2LjIsMzQuNSwyNi4yeiIvPgo8cmVjdCBpZD0iUmVjdGFuZ2xlLXBhdGgiIHk9IjAiIGNsYXNzPSJzdDEiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIvPgo8L3N2Zz4K\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<movable-view\r\n\t\t\t\t\tclass=\"movable-view\"\r\n\t\t\t\t\t:x=\"x\"\r\n\t\t\t\t\t:y=\"y\"\r\n\t\t\t\t\tdirection=\"all\"\r\n\t\t\t\t\tdamping=\"5000\"\r\n\t\t\t\t\tfriction=\"1\"\r\n\t\t\t\t\tv-show=\"active\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"item-move\"\r\n\t\t\t\t\t\t:class=\"{'item-move-active': active}\">\r\n\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\tclass=\"img\"\r\n\t\t\t\t\t\t\t\t:src=\"lists[beginIndex]\"\r\n\t\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t</movable-view>\r\n\t\t\t</movable-area>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\tlet wrapW = 0, // 拖拽范围的总宽度\r\n\t\twrapH = 0, // 拖拽范围的总高度\r\n\t\twrapW2 = 0, // 可拖拽区域宽度\r\n\t\twrapH2 = 0, // 可拖拽区域高度\r\n\t\twrapTop = 0, // 拖拽范围的上边界坐标\r\n\t\twrapLeft = 0, // 拖拽范围的左边界坐标\r\n\t\twrapDragTop = 0, // 可拖拽范围的上边界坐标\r\n\t\twrapDragLeft = 0, // 可拖拽范围的左边界坐标\r\n\t\titemW = 0, // 拖拽元素的宽\r\n\t\titemH = 0, // 拖拽元素的高\r\n\t\titemXNun = 0 // 拖拽元素的列数\r\n\texport default {\r\n\t\tname: 'image-drag-sort',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlists: this.list,\r\n\t\t\t\tactive: false, // 是否拖拽状态\r\n\t\t\t\tflag: false, // 是否可拖拽\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tbeginIndex: null // 当前拖拽元素的索引\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tlist: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function () {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpicNum:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault: 9\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tlet l = this.lists.length\r\n\t\t\tif (l) { // 有图片时初始化\r\n\t\t\t\tthis.init()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit () { // 初始化数据\r\n\t\t\t\t// 设置拖拽区域信息\r\n\t\t\t\tlet wrap = uni.createSelectorQuery().in(this).select('.inner')\r\n\t\t\t\twrap.boundingClientRect(data => {\r\n\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\twrapW = data.width // 设置拖拽范围的总宽度\r\n\t\t\t\t\twrapH = data.height // 设置拖拽范围的总高度\r\n\t\t\t\t\twrapTop = data.top // 设置拖拽范围的上边界坐标\r\n\t\t\t\t\twrapLeft = data.left // 设置拖拽范围的左边界坐标\r\n\t\t\t\t\tthis.setNodeWH()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\tsetNodeWH () { // 设置拖拽元素的宽高\r\n\t\t\t\t// 获取拽拖元素的信息\r\n\t\t\t\tlet item = uni.createSelectorQuery().in(this).select('.item')\r\n\t\t\t\titem.boundingClientRect(data => {\r\n\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\titemW = data.width // 拖拽元素的宽度\r\n\t\t\t\t\titemH = data.height // 拖拽元素的高度\r\n\t\t\t\t\tthis.setDragData()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\tsetDragData () { // 设置拖拽区域及元素配置\r\n\t\t\t\twrapDragTop = wrapTop + itemH / 2 // 设置拖拽范围上边距\r\n\t\t\t\twrapDragLeft = wrapLeft + itemW / 2 // 设置可拖拽范围左边距\r\n\t\t\t\twrapW2 = wrapW - itemW // 设置可拖拽区域宽度\r\n\t\t\t\twrapH2 = wrapH - itemH // 设置可拖拽区域高度\r\n\t\t\t\titemXNun = Math.round(wrapW / itemW) - 1 // 设置拖拽元素的列数\r\n\t\t\t},\r\n\t\t\tlongtap (e) { // 长按\r\n\t\t\t\tconst left = e.currentTarget.offsetLeft,\r\n\t\t\t\t\ttop = e.currentTarget.offsetTop\r\n\t\t\t\tthis.beginIndex = this.computationIndex({left: left, top: top}) // 获取所在位置索引\r\n\t\t\t\tthis.x = left\r\n\t\t\t\tthis.y = top\r\n\t\t\t\tthis.active = true\r\n\t\t\t\tthis.flag = true\r\n\t\t\t},\r\n\t\t\tcomputationIndex (e) { // 计算元素索引\r\n\t\t\t\tconst left = e.left,\r\n\t\t\t\t\ttop = e.top\r\n\t\t\t\tlet index = 0, // 计算拖拽元素所在的索引位置\r\n\t\t\t\t\tx = Math.round(left / itemW), // 计算拖拽元素所在的横向索引位置\r\n\t\t\t\t\ty = Math.round(top / itemH), // 计算拖拽元素所在的纵向索引位置\r\n\t\t\t\t\tnum = itemXNun * y\r\n\t\t\t\tif (x && !y) { // 第一行\r\n\t\t\t\t\tindex = x\r\n\t\t\t\t}\r\n\t\t\t\tif (y) { // 第一行以下\r\n\t\t\t\t\tindex = x + y + num\r\n\t\t\t\t}\r\n\t\t\t\treturn index\r\n\t\t\t},\r\n\t\t\ttouchm (e) { // 拖拽过程\r\n\t\t\t\tif (this.flag) {\r\n\t\t\t\t\tlet x = e.touches[0].pageX - wrapDragLeft,\r\n\t\t\t\t\t\ty = e.touches[0].pageY - wrapDragTop\r\n\t\t\t\t\tif (x < 0) {\r\n\t\t\t\t\t\tx = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (x > wrapW2) {\r\n\t\t\t\t\t\tx = wrapW2\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (y < 0) {\r\n\t\t\t\t\t\ty = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (y > wrapH2) {\r\n\t\t\t\t\t\ty = wrapH2\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.x = x\r\n\t\t\t\t\tthis.y = y\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttouchend (e) { // 拖拽结束\r\n\t\t\t\tthis.active = false\r\n\t\t\t\tconst left = e.currentTarget.offsetLeft,\r\n\t\t\t\t\ttop = e.currentTarget.offsetTop\r\n\t\t\t\tif (!this.flag || this.x === left && this.y === top) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconst\tx = this.x, // 计算拖拽横向距离\r\n\t\t\t\t\ty = this.y, // 计算拖拽纵向距离\r\n\t\t\t\t\titemNum = this.lists.length - 1 // 拖拽元素的总数量\r\n\t\t\t\tlet endIndex = this.computationIndex({left: x, top: y}) // 获取所在位置索引\r\n\t\t\t\tif (endIndex > itemNum) {\r\n\t\t\t\t\tendIndex = itemNum\r\n\t\t\t\t}\r\n\t\t\t\t// 交换位置\r\n\t\t\t\tconst beginIndex = this.beginIndex // 当前拖拽元素索引\r\n\t\t\t\tlet data = this.lists,\r\n\t\t\t\t\ttem = data[beginIndex]\r\n\t\t\t\tdata[beginIndex] = data[endIndex]\r\n\t\t\t\tdata[endIndex] = tem\r\n\t\t\t\tthis.flag = false\r\n\t\t\t},\r\n\t\t\timageTap (i) { // 图片点击事件\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['全屏预览大图', '删除（不可撤销）'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.tapIndex) { // 删除\r\n\t\t\t\t\t\t\tthis.imageDel(i)\r\n\t\t\t\t\t\t} else { // 预览\r\n\t\t\t\t\t\t\tthis.previewImage(i)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpreviewImage (i) { // 预览图片\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: this.lists[i],\r\n          urls: this.lists\r\n        })\r\n\t\t\t},\r\n\t\t\timageDel (i) { // 删除图片事件\r\n\t\t\t\tthis.lists.splice(i, 1);\r\n\t\t\t\tthis.$emit('imageUpload',this.lists);\r\n\t\t\t},\r\n\t\t\timageUpload () {\r\n\t\t\t\tlet itemList = ['图片（从手机相册选择）', '图片（拍摄）']\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: itemList,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.chooseImage(res.tapIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseImage (index) { // 选择图片\r\n\t\t\t\tconst count = this.picNum - this.lists.length,\r\n\t\t\t\t\tsourceType = index > 0 ? 'camera' : 'album'\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: count,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\t\tsourceType: [sourceType],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '上传中'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.upload(res.tempFilePaths)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupload (e) { // 可多图上传，不需要的可改成单一上传\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tlet data = this.lists\r\n\t\t\t\tfor (let i = 0, l = e.length; i < l; i++) {\r\n\t\t\t\t\tdata.push(e[i])\r\n\t\t\t\t}\r\n\t\t\t\tthis.lists = data;\r\n\t\t\t\tthis.$emit('imageUpload',this.lists);\r\n\t\t\t\t// 可写上传图片方法或者将本地图片路径传给父组件\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tlists () { // 监听数组变化\r\n\t\t\t\tlet l = this.lists.length\r\n\t\t\t\tif (l) { // 有图片或图片数量改变时重新初始化\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.image-drag-sort {\r\n\t\twidth: 100%;\r\n\t\tpadding: 30upx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.movable-area {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: wrap;\r\n\t}\r\n\t\r\n\t.item {\r\n\t\tflex: 0 0 31%;\r\n\t\theight: calc(31vw * .7);\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 12upx;\r\n\t}\r\n\t\r\n\t.item:not(:nth-child(3n + 3)) {\r\n\t\tmargin-right: 3.4%;\r\n\t}\r\n\t\r\n\t.item:nth-child(n + 4) {\r\n\t\tmargin-top: 3.4%;\r\n\t}\r\n\t\r\n\t.img-upload-btn {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\t\r\n\t.img-upload-btn .icon {\r\n\t\twidth: 48upx;\r\n\t\theight: 48upx;\r\n\t}\r\n\t\r\n\t.img-upload-btn .text {\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #CCCCCC;\r\n\t\tmargin-top: 10upx;\r\n\t}\r\n\t\r\n\t.movable-view {\r\n\t\twidth: 31%;\r\n\t\theight: calc(31vw * .7);\r\n\t}\r\n\r\n\t.item-move {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 12upx;\r\n\t}\r\n\t\r\n\t.item-move-active {\r\n\t\tbox-shadow: 0 0 30px #000;\r\n\t}\r\n\t\r\n\t.prompt {\r\n\t\tfont-size: 28upx;\r\n\t\tline-height: 40upx;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 28upx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=24ffbcbd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=24ffbcbd&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617760939374\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}