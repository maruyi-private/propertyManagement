(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/index/index"],{3915:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"54b8":function(t,e,n){"use strict";(function(t){n("ecaf"),n("921b");i(n("66fd"));var e=i(n("5ffd"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"5ffd":function(t,e,n){"use strict";n.r(e);var i=n("3915"),o=n("b343");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("8c7e");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},6294:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return n.e("components/uni-grid/uni-grid").then(n.bind(null,"f0ae"))},o=function(){return n.e("components/uni-grid-item/uni-grid-item").then(n.bind(null,"268c"))},a=function(){return Promise.all([n.e("common/vendor"),n.e("components/yomol-upgrade/yomol-upgrade")]).then(n.bind(null,"175d"))},s=function(){return n.e("components/li-toast/li-toast").then(n.bind(null,"7b7b"))},r={components:{uniGrid:i,uniGridItem:o,yomolUpgrade:a,liToast:s},data:function(){return{showToast:!1,indicatorDots:!0,autoplay:!0,interval:5e3,duration:500,noticeList:"",mainBtn:[{text:"我的钥匙",mark:"一键开门超方便",colors:"colorOrange",url:"my-key"},{text:"报事报修",mark:"足不出户享服务",colors:"colorRed",url:"maintenance"},{text:"我要缴费",mark:"线上缴费超便捷",colors:"colorBlue",url:"choose-type"}],banners:["/static/img/main/b1.png","/static/img/main/b2.png"],service:[{img:"/static/img/main/78761498124328542.png",title:"电子礼品卡",mark:"家乐福9折"},{img:"/static/img/main/78761498124328542.png",title:"手机维修",mark:"手机维修"},{img:"/static/img/main/72581498124372327.png",title:"滴滴出行",mark:"滴滴出行3.0"}],list:[{url:"notice",text:"通知公告",src:"/static/img/main/notice.jpg",id:1},{url:"maintenance",text:"报事报修",src:"/static/img/main/maintenance.jpg",id:2},{url:"maintenance",text:"投诉建议",src:"/static/img/main/feedback.jpg",id:3},{url:"call",text:"联系物业",src:"/static/img/main/call.jpg",id:4},{url:"choose-type",text:"物业缴费",src:"/static/img/main/property-pay.jpg",id:5},{url:"",text:"房屋租售",src:"/static/img/main/rental.jpg",id:6},{url:"",text:"球场预约",src:"/static/img/main/subscribe-stadium.jpg",id:7},{url:"community",text:"小区活动",src:"/static/img/main/activity.jpg",id:8}],upgradeType:"pkg",upgradeContent:"",upgradeUrl:"",housekeeprImg:"/static/img/header-img.png",housekeeper:""}},methods:{moveHandle:function(){},getNav:function(e,n){if(e){var i=0;3===n&&(i=1),this.$Router.push({name:e,params:{id:i}})}else t.showToast({icon:"none",title:"暂无数据..."})},noticeDetail:function(){this.noticeList.id&&this.$Router.push({name:"notice-detail",params:{id:this.noticeList.id}})},toHousekeeper:function(){this.$Router.push({name:"housekeeper",params:{id:this.housekeeper.uid}})},getData:function(){var t=this,e={};this.$api.userCenter(e,function(e){t.$store.commit("setMyHouse",e.data)})},checkVersionClick:function(){var e=this;plus.runtime.getProperty(plus.runtime.appid,function(n){var i=t.getSystemInfoSync().platform,o=n.versionCode,a={type:2};"android"===i&&(a.type=1),e.$api.downLoadApp(a,function(t){o<t.data.bb_code&&(e.upgradeType="pkg",e.upgradeContent="更新了新版本",e.upgradeUrl=t.data.download_url,e.$refs.yomolUpgrade.show())})})},getIndex:function(){var t=this,e={};this.$api.homeIndex(e,function(e){t.housekeeper=e.data.stewards[0],t.noticeList=e.data.circular})}},onShow:function(){this.$store.state.login_token&&this.getData()},onLoad:function(){try{var e=t.getStorageSync("loginToken");e&&(this.$store.commit("loginToken",e),this.getIndex(),this.checkVersionClick());var n=t.getStorageSync("userInfo");n&&this.$store.commit("setHasLogin",!0)}catch(i){}},computed:{myHouse:function(){return this.$store.state.myHouse},hasBoundHouse:function(){return this.$store.state.hasBoundHouse},hasLogin:function(){return this.$store.state.hasLogin},message:function(){var t=this;return this.$store.state.pushMessage?(this.showToast=!0,setTimeout(function(e){t.showToast=!1},5e3),"/static/img/message-active.png"):"/static/img/message.png"}},onPullDownRefresh:function(){var e=this;setTimeout(function(){e.getData(),t.stopPullDownRefresh()},1e3)}};e.default=r}).call(this,n("6e42")["default"])},"8c7e":function(t,e,n){"use strict";var i=n("eae4"),o=n.n(i);o.a},b343:function(t,e,n){"use strict";n.r(e);var i=n("6294"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},eae4:function(t,e,n){}},[["54b8","common/runtime","common/vendor"]]]);